フランクルの予想は、組み合わせ論の未解決問題で、有限台集合上の共通部分で閉じた集合族を考えて、全体集合と空集合を持つとする。
このとき、必ずrareな頂点を持つというもの。rareな頂点とは、頂点を通るhyperedge(集合族の要素)の個数が、半分以下となるというもの。

この予想は、未だに未解決ではあるが、いくつかの簡単なクラスでは成り立つことが知られている。そのひとつがIdeal集合族と呼ばれるクラスで、これは、全体集合以外のhyperedgeは、部分集合で閉じているような(空集合を要素に持つ)集合族である。

一方、平均的な次数がrareである場合に、rareな頂点を持つことは簡単にわかる。Ideal集合族が平均的にrareであるかどうかは、一見簡単にわかりそうであるが、実際に示しそうとするとそれほど簡単ではない。今回は、そのことを証明し、Lean 4でその証明を記述してみたというものがこのGitHUBリポジトリの内容である。

ややこしいと言っても、自然言語で説明すると10分ぐらいで証明を説明し終わると思われるが、Lean 4で記述すると、5000行ぐらい必要だった。また、Lean 4初心者の私には、3ヶ月ぐらいの日数がかかった。